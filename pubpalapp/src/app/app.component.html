<ion-app>
  <ion-header>
    <ion-toolbar color="primary">
      <ion-buttons slot="primary">
        <ion-button fill="clear" [hidden]="!userSvc.user && !sellerSvc.seller" class="cart-button"
          (click)="toggleMenu()">
          <ion-icon slot="icon-only" name="menu"></ion-icon>
          <ion-badge id="cart-badge" color="danger" *ngIf="cartSvc.cart?.purchases?.length > 0">
            {{ cartSvc.cart.purchases.length }}</ion-badge>
        </ion-button>
      </ion-buttons>
      <ion-title>
        {{ commonSvc.headerMessage }}
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-menu side="end" type="push" content-id="appContent" swipeGesture="false">
    <ion-header>
      <ion-toolbar>
        <ion-title></ion-title>
      </ion-toolbar>
    </ion-header>
    <ng-container [ngTemplateOutlet]="commonSvc.menuoptionsType === 'user' ? useroptions : selleroptions"></ng-container>
  </ion-menu>
  
  <ng-template #useroptions>
    <ion-content color="primary">
      <ion-list color="primary" class="py-0">
        <ion-item (click)="goHome()" color="primary">
          <ion-icon name="home"></ion-icon>
        </ion-item>
        <ion-item (click)="goToCart()" color="primary">
          <ion-icon name="cart"></ion-icon>
          <ion-badge id="cart-badge" color="danger" *ngIf="cartCount > 0">{{ cartCount }}</ion-badge>
        </ion-item>
        <ion-item (click)="logout();" color="primary">
          <ion-icon name="log-out"></ion-icon>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
  
  <ng-template #selleroptions>
    <ion-content color="primary">
      <ion-list color="primary" class="py-0">
        <ion-item (click)="goHome()" color="primary">
          <ion-icon name="home"></ion-icon>
        </ion-item>
        <ion-item (click)="goSellerPurchases()" color="primary">
          <ion-icon name="beer"></ion-icon>
        </ion-item>
        <ion-item (click)="goSellerMenuItems()" color="primary">
          <ion-icon name="list-box"></ion-icon>
        </ion-item>
        <ion-item (click)="logout();" color="primary">
          <ion-icon name="log-out"></ion-icon>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
  <ion-content id="appContent">
    <ion-router-outlet></ion-router-outlet>
  </ion-content>
</ion-app>
